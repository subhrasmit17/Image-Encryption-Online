<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image Encryptor Online</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
</head>

<body>
  <header class="top-banner">
    <h1>Image Encryptor Online</h1>
    <p class="subtext">Fast, free & secure image encryption in your browser.</p>
  </header>

  <div class="content">

    <main class="main-container">

      <section class="notice">
        <h2>Upload Guidelines</h2>
        <ul>
          <li>Max image size: <strong>1.5 MB</strong></li>
          <li>Max resolution: <strong>1,000,000 pixels</strong> (e.g. 1000×1000)</li>
          <li>Key length: <strong>Max 15 characters</strong></li>
          <li>Supported formats: <strong>.jpg, .png</strong></li>
          <li><br>Server may take a few seconds to respond when waking from sleep</li>
        </ul>
        <p>⚠️ If upload fails, double-check image size and retry.</p>
      </section>

      <section class="card">
        <h3>Select Image & Key</h3>
        <input type="file" id="imageInput" accept="image/png, image/jpeg" />
        <input type="text" id="keyInput" maxlength="15" placeholder="Enter key (max 15 characters)" />
        <div class="button-group">
          <button onclick="encryptImage()">Encrypt</button>
          <button onclick="decryptImage()">Decrypt</button>
        </div>
      </section>

    </main>

    <div class="loader-wrapper">
      <div id="loader" class="loader" style="display: none;"></div>
    </div>




    <div class="page-wrapper">

      <div id="previewUploadedWrapper" class="preview-block" style="display:none;">
        <h4>Uploaded Image</h4>
        <img id="previewUploaded" class="preview-img">
      </div>


      <div id="previewOutputWrapper" class="preview-block" style="display:none;">
        <h4>Output Image</h4>
        <img id="previewOutput" class="preview-img" style="display:none;">

        <button id="downloadButton" style="display:none; margin-top:10px;" onclick="downloadEncryptedImage()">
          Download Encrypted Image
        </button>
      </div>

    </div>

    <div class="metrics">

      <section class="metricStyle" id="metricsCard" style="display:none;">
        <h3>Encryption Metrics</h3>

        <p><strong>NPCR:</strong>
          <span id="npcrValue">--</span>%
        </p>

        <p><strong>UACI:</strong>
          <span id="uaciValue">--</span>%
        </p>
      </section>

    </div>

  </div>
  <script src="script.js"></script>
</body>

</html>